(this["webpackJsonpus-district-map"]=this["webpackJsonpus-district-map"]||[]).push([[0],{66:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(2),o=n(0),r=n.n(o),s=n(27),i=n.n(s),c=(n(66),n(14)),u=n(3),d=n.n(u),p=n(24),l=n(18),f="LOAD_STATES",h="LOAD_COUNTIES",j="LOAD_COVID",O="LOAD_US_COVID",b="SET_ZOOM",v="SET_CENTER",y="SET_FOCUSED_STATE_ID",m="ZOOM",_="SET_TOOLTIP",g=n(22),D=n.n(g),S={states:null,counties:null,isLoading:!1};function x(){return(x=Object(p.a)(d.a.mark((function e(t,n){var a,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"SET_BOUNDARIES_LOADING",payload:!0}),e.next=3,D.a.get("states-10m.json");case 3:return a=e.sent,t({type:f,payload:a.data}),e.next=7,D.a.get("counties-10m.json");case 7:o=e.sent,t({type:h,payload:o.data}),t({type:"SET_BOUNDARIES_LOADING",payload:!1});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;return Object(l.a)(e,(function(e){var n=t.payload;switch(t.type){case f:e.states=n;break;case h:e.counties=n;break;case"SET_BOUNDARIES_LOADING":e.isLoading=n;break;default:return}}))},I=n(49),L={center:[0,0],zoom:1,focusedStateId:0,tooltip:""},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;return Object(l.a)(e,(function(e){var n=t.payload;switch(t.type){case v:e.center=n;break;case b:e.zoom=n;break;case y:e.focusedStateId=n;break;case _:e.tooltip=n;break;case m:return Object(I.a)({},n);default:return}}))},w=n(102),E={us:[],ma:[],isLoading:!1};function T(){return(T=Object(p.a)(d.a.mark((function e(t,n){var a,o,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"SET_COVID_LOADING",payload:!0}),e.next=3,D.a.get("covid.csv");case 3:return a=e.sent,o=Object(w.a)(a.data),t({type:j,payload:o}),e.next=8,D.a.get("us-covid.csv");case 8:r=e.sent,s=Object(w.a)(r.data),t({type:O,payload:s}),t({type:"SET_COVID_LOADING",payload:!1});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;return Object(l.a)(e,(function(e){var n=t.payload;switch(t.type){case j:e.ma=n;break;case O:e.us=n;break;case"SET_COVID_LOADING":e.isLoading=n;break;default:return}}))},B=Object(c.c)({boundaries:k,mapParams:C,covidData:A}),G=n(51);var N=n(21);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z=n(32),M=n(33),U=n(57),F=n(54),W=n(56),Z=n(13),P=n(101),V=function(e){var t=e.counties,n=e.covidData,o=e.focusedStateId,r=e.setTooltip,s=n.filter((function(e){return"11/9/2020"===e.date})).sort((function(e,t){return e.new_confirmed_cases-t.new_confirmed_cases})),i=Object(P.a)().domain([0,s[s.length-1].new_confirmed_cases]).range(["white","red"]);return Object(a.jsx)(Z.Geographies,{geography:t,children:function(e){var t=e.geographies,n=(e.projection,e.path,t.filter((function(e){return+e.id.substring(0,2)===o})));return Object(a.jsx)(a.Fragment,{children:n.map((function(e){var t=e.properties.name,n=25===o?s.find((function(e){return e.county===t})):void 0;return Object(a.jsx)(Z.Geography,{stroke:"#000",geography:e,fill:n?i(n.new_confirmed_cases):"#DDD",onMouseEnter:function(){if(25===o){var e=s.find((function(e){return e.county===t})),n=e.county,i=e.new_confirmed_cases,c=e.total_confirmed_cases;r(Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:["County: ",n]}),Object(a.jsxs)("div",{children:["New Cases: ",i]}),Object(a.jsxs)("div",{children:["Total Cases: ",c]})]}))}else r(t)},onMouseLeave:function(){r("")},style:{default:{stroke:"#607D8B",strokeWidth:.1,outline:"none"},hover:{fill:"#CFD8DC",stroke:"#607D8B",strokeWidth:.2,outline:"none"}}},e.rsmKey)}))})}})},R=Object(o.memo)(V),J=function(e){var t=e.statesBoundaries,n=e.countiesBoundaries,o=e.center,r=e.zoom,s=e.usCovidData,i=e.covidData,c=e.focusedStateId,u=e.doZoom,d=(e.setFocusedState,e.setTooltip);return Object(a.jsx)(Z.ComposableMap,{"data-tip":"",projection:"geoAlbersUsa",style:{border:"1px black solid",width:"90%",height:"600px"},children:Object(a.jsxs)(Z.ZoomableGroup,{center:o,zoom:r,onMoveEnd:function(e,t){var n=e.zoom;u(n<4?{center:e.coordinates,zoom:n,focusedStateId:0}:{center:e.coordinates,zoom:n,focusedStateId:c})},children:[Object(a.jsx)(Z.Geographies,{geography:t,children:function(e){var t=e.geographies,n=e.projection,o=e.path,i=Object(W.a)(s).sort((function(e,t){return e.Cases_in_Last_7_Days-t.Cases_in_Last_7_Days})),c=Object(P.a)().domain([0,i[i.length-1].Cases_in_Last_7_Days]).range(["white","red"]);return t.map((function(e){var t=i.find((function(t){return t.State===e.properties.name}));return Object(a.jsx)(Z.Geography,{stroke:"#000",geography:e,fill:t?c(t.Cases_in_Last_7_Days):"#DDD",onMouseEnter:function(){var n=e.properties.name;d(Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:n}),Object(a.jsx)("div",{children:t.Cases_in_Last_7_Days})]}))},onMouseLeave:function(){d("")},onClick:function(){return function(e,t,n){var a=t.invert(n.centroid(e));u({center:a,zoom:r>4?r:4,focusedStateId:+e.id})}(e,n,o)},style:{default:{stroke:"#607D8B",strokeWidth:.75/r,outline:"none"},hover:{fill:"#CFD8DC",stroke:"#607D8B",strokeWidth:1/r,outline:"none"}}},e.rsmKey)}))}}),c>0?Object(a.jsx)(R,{counties:n,covidData:i,setTooltip:d,focusedStateId:c}):null]})})},K=Object(o.memo)(J);var $,q=Object(N.b)((function(e){var t=e.boundaries,n=t.states,a=t.counties,o=e.mapParams;return{statesBoundaries:n,countiesBoundaries:a,zoom:o.zoom,center:o.center,focusedStateId:o.focusedStateId,usCovidData:e.covidData.us,covidData:e.covidData.ma}}),(function(e){return{setCenter:function(t){e(function(e){return{type:v,payload:e}}(t))},setZoom:function(t){e(function(e){return{type:b,payload:e}}(t))},setFocusedState:function(t){e(function(e){return{type:y,payload:e}}(t))},doZoom:function(t){e(function(e){return{type:m,payload:e}}(t))},setTooltip:function(t){e(function(e){return{type:_,payload:e}}(t))}}}))(K),H=n(55),Q=function(e){Object(U.a)(n,e);var t=Object(F.a)(n);function n(){return Object(z.a)(this,n),t.apply(this,arguments)}return Object(M.a)(n,[{key:"render",value:function(){var e=this.props,t=e.tooltip;return e.isLoading?"Loading":Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:Object(a.jsx)("h1",{children:"US Map"})}),Object(a.jsxs)("div",{children:["Source code: ",Object(a.jsx)("a",{href:"https://github.com/harryphan/us-district-map",children:"Github"})]}),Object(a.jsxs)("div",{style:{padding:"5"},children:[Object(a.jsx)(q,{}),Object(a.jsx)(H.a,{children:t})]})]})}}]),n}(o.PureComponent),X=Object(N.b)((function(e){return{tooltip:e.mapParams.tooltip,isLoading:e.boundaries.isLoading||e.covidData.isLoading}}))(Q),Y=Object(c.d)(B,$,Object(c.a)(G.a));Y.dispatch((function(e,t){return x.apply(this,arguments)})),Y.dispatch((function(e,t){return T.apply(this,arguments)})),i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(N.a,{store:Y,children:Object(a.jsx)(X,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[94,1,2]]]);
//# sourceMappingURL=main.0e0df2ff.chunk.js.map
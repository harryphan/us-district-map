{"version":3,"sources":["constants/action_constants.js","reducers/boundaries.js","reducers/mapParams.js","reducers/covidData.js","reducers/store.js","serviceWorker.js","component/Counties.js","component/USMap.js","containers/USMapContainer.js","configureStore.js","actions/actions.js","containers/Main.js","index.js"],"names":["LOAD_STATES","LOAD_COUNTIES","LOAD_COVID","LOAD_US_COVID","SET_ZOOM","SET_CENTER","SET_FOCUSED_STATE_ID","ZOOM","SET_TOOLTIP","initialState","states","counties","boundaries","state","action","produce","draft","payload","type","center","zoom","focusedStateId","tooltip","mapParams","us","ma","covidData","rootReducer","combineReducers","Boolean","window","location","hostname","match","Counties","setTooltip","filtered","filter","covid","date","sort","a","b","new_confirmed_cases","colorScale","scaleLinear","domain","length","range","geography","geographies","focused","projection","path","geo","id","substring","map","name","properties","data","find","c","county","undefined","stroke","fill","onMouseEnter","entry","total_confirmed_cases","onMouseLeave","style","default","strokeWidth","outline","hover","rsmKey","memo","USMap","statesBoundaries","countiesBoundaries","usCovidData","doZoom","setFocusedState","data-tip","border","width","height","onMoveEnd","event","zoomEvent","coordinates","sorted","Cases_in_Last_7_Days","item","st","State","onClick","invert","centroid","handleStateClick","preloadedState","connect","dispatch","setCenter","setZoom","Main","axios","get","then","res","props","loadStatesBoundaries","loadCountiesBoundaries","csv","loadCovid","loadUSCovid","this","padding","USMapContainer","PureComponent","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5e02f33a.chunk.js","sourcesContent":["export const LOAD_STATES='LOAD_STATES';\nexport const LOAD_COUNTIES='LOAD_COUNTIES';\nexport const LOAD_COVID='LOAD_COVID';\nexport const LOAD_US_COVID='LOAD_US_COVID';\nexport const SET_ZOOM='SET_ZOOM';\nexport const SET_CENTER='SET_CENTER';\nexport const SET_FOCUSED_STATE_ID='SET_FOCUSED_STATE_ID';\nexport const ZOOM='ZOOM';\nexport const SET_TOOLTIP='SET_TOOLTIP';\n","import produce from 'immer';\nimport {LOAD_STATES,LOAD_COUNTIES} from '../constants/action_constants';\nlet initialState={\n  states:null,\n  counties:null,\n};\n\nconst boundaries = (state=initialState, action) =>{\n  return produce( state, draft =>{\n    const {payload} = action;\n    switch (action.type) {\n      case LOAD_STATES:\n        draft.states=payload;\n        break;\n      case LOAD_COUNTIES:\n        draft.counties=payload;\n        break;\n      default:\n        return;\n    }\n  })\n}\n\nexport default boundaries;\n","import produce from 'immer';\nimport {SET_CENTER,SET_ZOOM,SET_TOOLTIP,SET_FOCUSED_STATE_ID,ZOOM} from '../constants/action_constants';\nlet initialState={\n  center:[0,0],\n  zoom:1,\n  focusedStateId:0,\n  tooltip:'',\n};\n\nconst mapParams = (state=initialState, action) =>{\n  return produce( state, draft =>{\n    const {payload} = action;\n    switch (action.type) {\n      case SET_CENTER:\n        draft.center=payload;\n        break;\n      case SET_ZOOM:\n        draft.zoom=payload;\n        break;\n      case SET_FOCUSED_STATE_ID:\n        draft.focusedStateId = payload;\n        break;\n      case SET_TOOLTIP:\n        draft.tooltip = payload;\n        break;\n      case ZOOM:\n        return {...payload};\n      default:\n        return;\n    }\n  })\n}\n\nexport default mapParams;\n","import produce from 'immer';\nimport {LOAD_COVID,LOAD_US_COVID} from '../constants/action_constants';\nlet initialState={\n  us:[],\n  ma:[]\n};\n\nconst covidData = (state=initialState, action) =>{\n  return produce( state, draft =>{\n    const {payload} = action;\n    switch (action.type) {\n      case LOAD_COVID:\n        draft.ma=payload;\n        break;\n      case LOAD_US_COVID:\n        draft.us=payload;\n        break;\n      default:\n        return;\n    }\n  })\n}\n\nexport default covidData;\n","import boundaries from './boundaries';\nimport mapParams from './mapParams';\nimport covidData from './covidData';\nimport {combineReducers} from 'redux';\n\nconst rootReducer = combineReducers({\n  boundaries,\n  mapParams,\n  covidData,\n})\nexport default rootReducer;\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React,{memo} from 'react';\nimport { Geographies, Geography } from \"react-simple-maps\";\nimport { scaleLinear } from 'd3-scale';\n\nconst Counties = ({counties,covidData,focusedStateId,setTooltip}) =>{\n  const filtered = covidData.filter(covid => covid.date === '11/9/2020').sort((a,b) => a.new_confirmed_cases - b.new_confirmed_cases);\n  const colorScale = scaleLinear().domain([0,filtered[filtered.length-1].new_confirmed_cases]).range(['white','red']);\n  return (\n            <Geographies geography={counties}>\n              {({ geographies,projection,path }) => {\n                const focused = geographies.filter( geo => { return +geo.id.substring(0,2) === focusedStateId});\n\n                return(\n                <>\n                  {focused.map(geo => {\n                      const { name } = geo.properties;\n                      const data = focusedStateId === 25 ? filtered.find( c => c.county === name):undefined;\n                      return (\n                        <Geography\n                          key={geo.rsmKey}\n                          stroke=\"#000\"\n                          geography={geo}\n                          fill={data ? colorScale(data.new_confirmed_cases) : \"#DDD\"}\n                          onMouseEnter={() => {\n\n                            if(focusedStateId === 25){\n                              const entry = filtered.find( c => c.county === name);\n                              const {county, new_confirmed_cases, total_confirmed_cases} = entry;\n                              setTooltip(<><div>County: {county}</div><div>New Cases: {new_confirmed_cases}</div><div>Total Cases: {total_confirmed_cases}</div></>);\n                            }else{\n                              setTooltip(name);\n                            }\n                          }}\n                          onMouseLeave={() => {\n                            setTooltip('');\n                          }}\n                          style={{\n                             default: {\n\n                                stroke: \"#607D8B\",\n                                strokeWidth: 0.1,\n                                outline: \"none\",\n                             },\n                             hover: {\n                                fill: \"#CFD8DC\",\n                                stroke: \"#607D8B\",\n                                strokeWidth: 0.2,\n                                outline: \"none\",\n                             },\n                          }}\n                        />\n                      )\n                    })\n                  }\n                </>\n              )}}\n            </Geographies>\n  );\n}\nexport default memo(Counties);\n","import React,{memo} from 'react';\nimport { ComposableMap, Geographies, Geography,ZoomableGroup } from \"react-simple-maps\";\nimport Counties from './Counties';\nimport { scaleLinear } from 'd3-scale';\n\nconst USMap = ({statesBoundaries,countiesBoundaries,center,zoom,usCovidData,covidData,focusedStateId,doZoom,setFocusedState,setTooltip}) =>{\n  function handleStateClick(geo,projection,path){\n    const center = projection.invert(path.centroid(geo));\n    doZoom({center,zoom:zoom>4?zoom:4,focusedStateId:+geo.id});\n  }\n  function handleMove(event,zoomEvent){\n    const {zoom} = event;\n    if (zoom < 4){\n      doZoom({center:event.coordinates,zoom,focusedStateId:0});\n    }else{\n      doZoom({center:event.coordinates,zoom,focusedStateId});\n    }\n  }\n  // if(usCovidData.length === 0){\n  //   return (<div/>)\n  // }\n  // const sorted = [...usCovidData].sort((a,b) => a.Cases_in_Last_7_Days - b.Cases_in_Last_7_Days);\n  // const colorScale = scaleLinear().domain([0,sorted[sorted.length-1].Cases_in_Last_7_Days]).range(['white','red']);\n\n  return (\n      <ComposableMap data-tip='' projection=\"geoAlbersUsa\" style=\n    {{border:'1px black solid', width:'90%', height:'600px'}}>\n        <ZoomableGroup center={center} zoom={zoom} onMoveEnd={handleMove}>\n          <Geographies geography={statesBoundaries}>\n            {({ geographies,projection,path }) =>{\n              const sorted = [...usCovidData].sort((a,b) => a.Cases_in_Last_7_Days - b.Cases_in_Last_7_Days);\n              const colorScale = scaleLinear().domain([0,sorted[sorted.length-1].Cases_in_Last_7_Days]).range(['white','red']);\n\n              return geographies.map(geo => {\n                const item = sorted.find((st) => st.State === geo.properties.name);\n\n                return (\n                  <Geography\n                    key={geo.rsmKey}\n                    stroke=\"#000\"\n                    geography={geo}\n                    fill={item ? colorScale(item.Cases_in_Last_7_Days) :\"#DDD\"}\n                    onMouseEnter={() => {\n                      const { name } = geo.properties;\n                      setTooltip(<div><div>{name}</div><div>{item.Cases_in_Last_7_Days}</div></div>);\n                    }}\n                    onMouseLeave={() => {\n                      setTooltip('');\n                    }}\n                    onClick={() => handleStateClick(geo,projection,path)}\n                    style={{\n                       default: {\n                          stroke: \"#607D8B\",\n                          strokeWidth: 0.75 /zoom,\n                          outline: \"none\",\n                       },\n                       hover: {\n                          fill: \"#CFD8DC\",\n                          stroke: \"#607D8B\",\n                          strokeWidth: 1/zoom,\n                          outline: \"none\",\n                       },\n                    }}\n                  />\n                )})\n            }\n          }\n          </Geographies>\n          { focusedStateId > 0 ?\n            <Counties counties={countiesBoundaries} covidData={covidData} setTooltip={setTooltip} focusedStateId={focusedStateId}/>:null\n          }\n        </ZoomableGroup>\n      </ComposableMap>\n  );\n}\nexport default memo(USMap);\n","import USMap from '../component/USMap';\nimport Map from '../component/Map';\nimport {connect} from 'react-redux';\nimport {setCenter,setZoom,setFocusedState,doZoom,setTooltip} from '../actions/actions';\n\nconst mapStateToProps = state =>{\n  const {states,counties} = state.boundaries;\n  const {zoom,center,focusedStateId} = state.mapParams;\n  return {\n    statesBoundaries:states,\n    countiesBoundaries:counties,\n    zoom,\n    center,\n    focusedStateId,\n    usCovidData: state.covidData.us,\n    covidData: state.covidData.ma,\n  };\n}\n\nconst mapDispatchToProps = dispatch =>{\n  return {\n    setCenter:(center)=>{\n      dispatch(setCenter(center));\n    },\n    setZoom:(zoom)=>{\n      dispatch(setZoom(zoom));\n    },\n    setFocusedState:(id)=>{\n      dispatch(setFocusedState(id));\n    },\n    doZoom(payload){\n      dispatch(doZoom(payload));\n    },\n    setTooltip(payload){\n      dispatch(setTooltip(payload));\n    }\n  };\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(USMap);\n","import {applyMiddleware,createStore} from 'redux';\nimport rootReducer from './reducers/store';\nimport thunkMiddleware from 'redux-thunk';\n\n\nexport default function configureStore(preloadedState){\n\n  return createStore(\n    rootReducer,\n    preloadedState,\n    applyMiddleware(thunkMiddleware)\n  );\n}\n","import {LOAD_STATES,LOAD_COVID,LOAD_US_COVID,LOAD_COUNTIES,SET_ZOOM,SET_TOOLTIP,SET_CENTER,SET_FOCUSED_STATE_ID,ZOOM} from '../constants/action_constants';\n\nexport function loadStatesBoundaries(states){\n  return {type: LOAD_STATES, payload:states}\n}\nexport function loadCountiesBoundaries(counties){\n  return {type: LOAD_COUNTIES, payload:counties}\n}\nexport function loadCovid(data){\n  return {type: LOAD_COVID, payload:data}\n}\nexport function loadUSCovid(data){\n  return {type: LOAD_US_COVID, payload:data}\n}\nexport function setZoom(zoom){\n  return {type: SET_ZOOM, payload:zoom}\n}\nexport function setCenter(center){\n  return {type: SET_CENTER, payload:center}\n}\nexport function setFocusedState(id){\n  return {type: SET_FOCUSED_STATE_ID, payload:id}\n}\nexport function doZoom(payload){\n  return {type: ZOOM, payload}\n}\nexport function setTooltip(payload){\n  return {type: SET_TOOLTIP, payload}\n}\n","import React,{PureComponent} from 'react';\nimport USMapContainer from './USMapContainer';\nimport axios from 'axios';\nimport {loadStatesBoundaries,loadCountiesBoundaries,loadCovid,loadUSCovid} from '../actions/actions'\nimport {connect} from 'react-redux';\nimport ReactTooltip from 'react-tooltip';\nimport { csv } from 'd3-fetch';\n\nclass Main extends PureComponent{\n\n  componentDidMount(){\n    axios.get('states-10m.json')\n    .then(res => this.props.loadStatesBoundaries(res.data));\n    axios.get('counties-10m.json')\n    .then(res => this.props.loadCountiesBoundaries(res.data));\n    csv('covid.csv').then( covid => this.props.loadCovid(covid));\n    csv('united_states_covid19_cases_and_deaths_by_state.csv').then(covid => this.props.loadUSCovid(covid));\n  }\n\n  render(){\n    const {tooltip}=this.props;\n    return(\n      <div>\n        <div>\n          <h1>US Map</h1>\n        </div>\n        <div style={{padding:'5'}}>\n          <USMapContainer/>\n          <ReactTooltip>{tooltip}</ReactTooltip>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state =>{\n\n  return {\n    tooltip:state.mapParams.tooltip,\n  };\n}\n\nconst mapDispatchToProps = dispatch =>{\n  return {\n    loadStatesBoundaries:(statesBoundaries)=>{\n      dispatch(loadStatesBoundaries(statesBoundaries));\n    },\n    loadCountiesBoundaries: (countiesBoundaries) =>{\n      dispatch(loadCountiesBoundaries(countiesBoundaries));\n    },\n    loadCovid: (covid) =>{\n      dispatch(loadCovid(covid));\n    },\n    loadUSCovid: (covid) =>{\n      dispatch(loadUSCovid(covid));\n    }\n  };\n}\n\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Main);\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport configureStore from './configureStore';\r\nimport { Provider } from 'react-redux';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport Main from './containers/Main';\r\n\r\nconst store = configureStore();\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <Main />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}
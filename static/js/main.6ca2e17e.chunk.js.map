{"version":3,"sources":["constants/action_constants.js","reducers/boundaries.js","reducers/mapParams.js","reducers/covidData.js","utils/countyLoader.js","reducers/votingData.js","reducers/store.js","serviceWorker.js","component/CNNVotingDataContext.js","component/AllCounties.js","component/USMap.js","actions/actions.js","configureStore.js","containers/USMapContainer.js","component/Copyright.js","containers/Main.js","theme.js","index.js"],"names":["LOAD_STATES","LOAD_COUNTIES","LOAD_COVID","LOAD_US_COVID","SET_ZOOM","SET_CENTER","SET_FOCUSED_STATE_ID","ZOOM","SET_TOOLTIP","initialState","states","counties","isLoading","boundaries","state","action","produce","draft","payload","type","center","zoom","focusedStateId","tooltip","mapParams","us","ma","covidData","countyResults","AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","isLoadingCounties","applyMissingCounties","dispatch","getState","a","key","biden","trump","countyLoader","forEach","s","id","races","stateFips","stateAbbr","allStates","find","val","map","countyFips","candidates","candidateID","cs","votes","vote","push","totalVotes","filter","n","includes","st","axios","get","data","stateResult","result","stateFipsCode","stateAbbreviation","totalVote","candidate","candidateId","name","fullName","voteNum","votingData","ga","index","findIndex","holder","rootReducer","combineReducers","Boolean","window","location","hostname","match","CNNVotingDataContext","nationalVotingData","this","_nationalVotingData","sorted","sort","b","voteOpScale","scaleLinear","domain","length","range","tmpOpScale","scaleLog","_currentState","_bidenResult","_trumpResult","_total","_voteRatio","c","sortedCounties","voteCountyOpScale","_currentCounty","county","_bidenCountyResult","_trumpCountyResult","_countyTotal","_countyVoteRatio","toLocaleString","d3","copy","opacity","AllCounties","setTooltip","votingDataContext","geography","geographies","usMap","projection","path","geo","stateId","substr","selectCurrentStateById","selectCurrentCountyById","undefined","countyColor","getCountyColor","countyTooltip","getCountyTooltip","properties","stroke","fill","onMouseEnter","onMouseLeave","style","default","strokeWidth","outline","hover","rsmKey","USMap","handleMove","handleStateClick","data-tip","border","height","width","onMoveEnd","event","zoomEvent","statesBoundaries","memo","doZoom","preloadedState","Tmp","nextProps","nextState","nextContext","props","Component","connect","gaVotingData","usCovidData","setCenter","setFocusedState","coordinates","invert","centroid","url","results","reduce","acc","current","countyName","countyFipsCode","fetchStateVotingData","Copyright","Typography","variant","color","align","Date","getFullYear","Main","Container","lg","Box","Button","USMapContainer","gutterBottom","href","PureComponent","theme","createMuiTheme","palette","primary","main","secondary","error","red","A400","background","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","StrictMode","ThemeProvider","CssBaseline","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"6mx8CAAaA,EAAY,cACZC,EAAc,gBACdC,EAAW,aACXC,EAAc,gBACdC,EAAS,WACTC,EAAW,aACXC,EAAqB,uBACrBC,EAAK,OACLC,EAAY,c,iBCLrBC,EAAa,CACfC,OAAO,KACPC,SAAS,KACTC,WAAU,GA8BGC,MA3BI,WAAgC,IAA/BC,EAA8B,uDAAxBL,EAAcM,EAAU,uCAChD,OAAOC,YAASF,GAAO,SAAAG,GAAS,IACvBC,EAAWH,EAAXG,QACP,OAAQH,EAAOI,MACb,KAAKnB,EACHiB,EAAMP,OAAOQ,EACb,MACF,KAAKjB,EACHgB,EAAMN,SAASO,EACf,MACF,IAAK,yBACHD,EAAML,UAAUM,EAChB,MACF,QACE,Y,QCrBJT,EAAa,CACfW,OAAO,CAAC,EAAE,GACVC,KAAK,EACLC,eAAe,EAIfC,QAAQ,IA2BKC,EAxBG,WAAgC,IAA/BV,EAA8B,uDAAxBL,EAAcM,EAAU,uCAC/C,OAAOC,YAASF,GAAO,SAAAG,GAAS,IACvBC,EAAWH,EAAXG,QACP,OAAQH,EAAOI,MACb,KAAKd,EACHY,EAAMG,OAAOF,EACb,MACF,KAAKd,EACHa,EAAMI,KAAKH,EACX,MACF,KAAKZ,EACHW,EAAMK,eAAiBJ,EACvB,MACF,KAAKV,EACHS,EAAMM,QAAUL,EAChB,MACF,KAAKX,EACH,OAAO,eAAIW,GACb,QACE,YC1BJT,G,OAAa,CACfgB,GAAG,GACHC,GAAG,GACHd,WAAU,IAiCGe,MA9BG,WAAgC,IAA/Bb,EAA8B,uDAAxBL,EAAcM,EAAU,uCAC/C,OAAOC,YAASF,GAAO,SAAAG,GAAS,IACvBC,EAAWH,EAAXG,QACP,OAAQH,EAAOI,MACb,KAAKjB,EACHe,EAAMS,GAAGR,EACT,MACF,KAAKf,EACHc,EAAMQ,GAAGP,EACT,MACF,IAAK,oBACHD,EAAML,UAAUM,EAChB,MACF,QACE,Y,uBC6BOU,EADM,CAACC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,OAAIC,G,QC/C1NtE,EAAa,CACbgB,GAAG,GACHuD,mBAAkB,EAClBpE,WAAU,GAoCP,SAAeqE,EAAtB,oC,4CAAO,WAAoCC,EAASC,GAA7C,eAAAC,EAAA,sDACHF,EAAS,CAAC/D,KAAM,8BAA+BD,SAAQ,IACjDmE,EAAI,CACNvD,GAAG,CAACwD,MAAM,OAAOC,MAAM,QACvBvC,GAAG,CAACsC,MAAM,QAAQC,MAAM,SACxB7B,GAAG,CAAC4B,MAAM,QAAQC,MAAM,SACxBb,GAAG,CAACY,MAAM,QAAQC,MAAM,SACxBrC,GAAG,CAACoC,MAAM,QAAQC,MAAM,SACxBpD,GAAG,CAACmD,MAAM,QAAQC,MAAM,SACxBnB,GAAG,CAACkB,MAAM,QAAQC,MAAM,UAEX,CAACC,EAAaxC,GAAGwC,EAAa9B,GAAG8B,EAAad,GAAGc,EAAatC,GAAGsC,EAAarD,GAAGqD,EAAapB,IACpGqB,SAAS,SAAAC,GAChB,IAAMC,EAAKD,EAAEE,MAAM,GAAGC,UAChBC,EAAWC,EAAUC,MAAK,SAAAN,GAAC,OAAIA,EAAEO,MAAQN,KAAIA,GAC/ChF,EAAS,GACb+E,EAAEE,MAAMM,KAAI,YAA4B,IAA1BC,EAAyB,EAAzBA,WAAWC,EAAc,EAAdA,WACfd,EAAOc,EAAWJ,MAAK,qBAAEK,cAAiChB,EAAIS,GAAWR,SACzEC,EAAQa,EAAWJ,MAAK,qBAAEK,cAAiChB,EAAIS,GAAWP,SAC1Ee,EAAG,CAAC,CAACX,GAAG,KAAKY,MAAMjB,EAAMkB,MAAM,CAACb,GAAG,KAAKY,MAAMhB,EAAMiB,OAC1D7F,EAAS8F,KAAK,CAACd,GAAIQ,EAAYO,WAAWpB,EAAMkB,KAAKjB,EAAMiB,KAAKJ,WAAWE,OAE/EpB,EAAS,CAAC/D,KAAM,yBAAyBD,QAAQ,CAAC4E,YAAUnF,SAASA,QAE1DoF,EAAUY,QAAO,SAAAC,GAAC,OAAK,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,MAAMC,SAASD,EAAEjB,OACxEF,SAAS,SAAAqB,GACd5B,EAAS,CAAC/D,KAAM,yBAAyBD,QAAQ,CAAC4E,UAAUgB,EAAGnB,GAAGhF,SAAS6E,EAAasB,EAAGnB,UAE/FT,EAAS,CAAC/D,KAAM,8BAA+BD,SAAQ,IA5BpD,4C,kEA8BA,WAAuCgE,EAASC,GAAhD,SAAAC,EAAA,6DACHF,EAAS,CAAC/D,KAAM,qBAAsBD,SAAQ,IAD3C,SAE2B6F,IAAMC,IAAI,0FAFrC,cAGaC,KAAKxB,SAAS,SAAAyB,GAC1B,IAAMC,EAAS,CAAExB,GAAIuB,EAAYE,cAActG,MAAMoG,EAAYG,kBAAkBX,WAAWQ,EAAYI,UAAUlB,WAAWc,EAAYd,WAAWF,KAAK,SAAAqB,GAAc,MAAO,CAAC5B,GAAI4B,EAAUC,YAAYC,KAAMF,EAAUG,SAAUnB,MAAOgB,EAAUI,aAGtPzC,EAAS,CAAC/D,KAAM,0BAA0BD,QAASiG,OAEvDjC,EAASD,GACTC,EAAS,CAAC/D,KAAM,qBAAsBD,SAAQ,IAV3C,4C,sBA4FQ0G,MA3JI,WAAgC,IAA/B9G,EAA8B,uDAAxBL,EAAcM,EAAU,uCAC9C,OAAOC,YAASF,GAAO,SAAAG,GAAS,IACrBC,EAAWH,EAAXG,QACP,OAAQH,EAAOI,MACX,IAAK,cACDF,EAAM4G,GAAG3G,EACT,MACJ,IAAK,0BACD,IAAI4G,EAAQ7G,EAAMQ,GAAGsG,WAAW,SAAArC,GAAC,OAAIA,EAAE5E,QAAUI,EAAQJ,SACrDgH,GAAS,EACT7G,EAAMQ,GAAGqG,GAAS5G,EAElBD,EAAMQ,GAAGgF,KAAKvF,GAElB,MACJ,IAAK,yBACD,IAAI8G,EAAS/G,EAAMQ,GAAGuE,MAAM,SAAAN,GAAC,OAAIA,EAAE5E,QAAUI,EAAQ4E,aAClDkC,IACCA,EAAOrH,SAAWO,EAAQP,UAE9B,MACJ,IAAK,qBACDM,EAAML,UAAUM,EAChB,MACJ,IAAK,8BACDD,EAAM+D,kBAAkB9D,EACxB,MACJ,QACI,YC5BD+G,EANKC,YAAgB,CAClCrH,aACAW,YACAG,YACAiG,e,qBCEkBO,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,yGCdeC,E,WACjB,WAAYC,GAAqB,oBAC7BC,KAAKC,oBAAsBF,EAC3B,IAAIG,EAAO,YAAIH,GAAoBI,MAAM,SAACzD,EAAE0D,GAAH,OAAS1D,EAAEsB,WAAaoC,EAAEpC,cACnEgC,KAAKK,YAAcC,cAAcC,OAAO,CAACL,EAAO,GAAGlC,WAAWkC,EAAOA,EAAOM,OAAO,GAAGxC,aAAayC,MAAM,CAAC,EAAE,IAC5GT,KAAKU,WAAaC,cAAWJ,OAAO,CAAC,IAAK,MAAUE,MAAM,CAAC,EAAE,IAC7DT,KAAKY,cAAc,GACnBZ,KAAKa,aAAc,GACnBb,KAAKc,aAAa,GAClBd,KAAKe,OAAO,GACZf,KAAKgB,WAAW,G,mEAEG/D,GAEnB,GADA+C,KAAKY,cAAcZ,KAAKC,oBAAoB3C,MAAM,SAAAN,GAAC,OAAIA,EAAEC,KAAOA,KAC5D+C,KAAKY,cAAT,CAOA,GAJAZ,KAAKa,aAAeb,KAAKY,cAAeZ,KAAKY,cAAclD,WAAWJ,MAAM,SAAA2D,GAAC,OAAa,OAATA,EAAEhE,MAAgB,GACnG+C,KAAKc,aAAed,KAAKY,cAAeZ,KAAKY,cAAclD,WAAWJ,MAAM,SAAA2D,GAAC,OAAa,OAATA,EAAEhE,MAAgB,GACnG+C,KAAKe,OAAQf,KAAKa,aAAahD,MAAMmC,KAAKc,aAAajD,MACvDmC,KAAKgB,WAAahB,KAAKa,aAAa5D,GAAK+C,KAAKa,aAAahD,MAAMmC,KAAKe,OAAQ,EAC1Ef,KAAKY,eAAiBZ,KAAKY,cAAc3I,SAAU,CACnD,IAAIiJ,EAAiB,YAAIlB,KAAKY,cAAc3I,UAAUkI,MAAK,SAACzD,EAAG0D,GAAJ,OAAU1D,EAAEsB,WAAaoC,EAAEpC,cACtFgC,KAAKmB,kBAAoBb,cAAcC,OAAO,CAACW,EAAe,GAAGlD,WAAYkD,EAAeA,EAAeV,OAAS,GAAGxC,aAAayC,MAAM,CAAC,EAAG,IAElJ,OAAOT,KAAKY,iB,8CAEQ3D,GACpB,GAAI+C,KAAKY,cAAc3I,SAQvB,OALA+H,KAAKoB,eAAepB,KAAKY,cAAc3I,SAASqF,MAAM,SAAA+D,GAAM,OAAIA,EAAOpE,KAAOA,KAC9E+C,KAAKsB,mBAAqBtB,KAAKoB,eAAgBpB,KAAKoB,eAAe1D,WAAWJ,MAAM,SAAA2D,GAAC,OAAa,OAATA,EAAEhE,MAAgB,GAC3G+C,KAAKuB,mBAAqBvB,KAAKoB,eAAgBpB,KAAKoB,eAAe1D,WAAWJ,MAAM,SAAA2D,GAAC,OAAa,OAATA,EAAEhE,MAAgB,GAC3G+C,KAAKwB,aAAcxB,KAAKsB,mBAAmBzD,MAAMmC,KAAKuB,mBAAmB1D,MACzEmC,KAAKyB,iBAAmBzB,KAAKsB,mBAAmBrE,GAAK+C,KAAKsB,mBAAmBzD,MAAMmC,KAAKwB,aAAc,EAC/FxB,KAAKoB,iB,iCAELrC,GACP,OAAOiB,KAAKY,cAAe,gCACvB,8BAAM7B,IACN,gDAAmBiB,KAAKY,cAAc5C,cACtC,0CAAagC,KAAKa,aAAahD,SAC/B,0CAAamC,KAAKc,aAAajD,YAC3B,O,uCAEKkB,GACb,OAAOiB,KAAKoB,eACR,qCACI,2CAAcrC,KACd,gDAAmBiB,KAAKoB,eAAepD,WAAW0D,oBAClD,8CAAiB1B,KAAKsB,mBAAmBzD,MAAM6D,oBAC/C,iDAAoB1B,KAAKuB,mBAAmB1D,MAAM6D,uBAExD,O,uCAIF,OADmB1B,KAAKoB,eAAiBO,IAAS3B,KAAKyB,kBAAkB,GAAI,OAAO,QAAQG,KAAK,CAACC,QAAQ7B,KAAKU,WAAWV,KAAKwB,gBAAgB,S,oCAGrIvE,EAAGrE,GAEb,OADiBoH,KAAKY,eAAiBhI,IAAkBqE,EAAK0E,IAAS3B,KAAKgB,YAAY,GAAI,OAAO,QAAQY,KAAK,CAACC,QAAQ7B,KAAKK,YAAYL,KAAKe,UAAW,W,KCfnJe,G,aA9CK,SAAC,GAAmC,IAAlCC,EAAiC,EAAjCA,WAAWC,EAAsB,EAAtBA,kBAC7B,OACI,cAAC,cAAD,CAAaC,UAAWhK,EAAxB,SACK,YAAqC,IAAlCiK,EAAiC,EAAjCA,YACMC,GAD2B,EAArBC,WAAqB,EAAVC,KACXH,EAAY1E,KAAI,SAAA8E,GACxB,IAAMC,EAAQD,EAAIrF,GAAGuF,OAAO,EAAE,GAE1BnB,EADOW,EAAkBS,uBAAuBF,GAChCP,EAAkBU,wBAAwBJ,EAAIrF,SAAI0F,EAChEC,EAAcvB,EAASW,EAAkBa,eAAeP,EAAIrF,IAAI,OAChE6F,EAAgBzB,EAASW,EAAkBe,iBAAiBT,EAAIU,WAAWjE,MAAM,8BAAMuD,EAAIU,WAAWjE,KAAO,IAAIuD,EAAIrF,KAC3H,OACI,cAAC,YAAD,CAEIgG,OAAO,OACPhB,UAAWK,EACXY,KAAMN,EACNO,aAAc,WACVpB,EAAWe,IAEfM,aAAc,WACVrB,EAAW,KAEfsB,MAAO,CACHC,QAAS,CACLL,OAAQ,OACRM,YAAa,IACbC,QAAS,QAEbC,MAAO,CACHP,KAAM,UACND,OAAQ,UACRM,YAAa,IACbC,QAAS,UApBZlB,EAAIoB,YAyBrB,OAAO,mCACFvB,SC7BfwB,GAAQ,SAAC,GAA6G,IAA5GjL,EAA2G,EAA3GA,OAAOC,EAAoG,EAApGA,KAAsBiL,GAA8E,EAA/FC,iBAA+F,EAA9ED,YAA6B7D,GAAiD,EAAnEzD,kBAAmE,EAAjDyD,oBAAmBnH,EAA8B,EAA9BA,eAAemJ,EAAe,EAAfA,WAClGC,EAAmB,IAAIlC,EAAqBC,GAEpD,OACI,cAAC,gBAAD,CAAgB+D,WAAS,GAAG1B,WAAW,eAAgBiB,MAAO,CAACU,OAAO,kBAAkBC,OAAO,OAAQC,MAAM,QAA7G,SACE,eAAC,gBAAD,CAAevL,OAAQA,EAAQC,KAAMA,EAAMuL,UAAW,SAACC,EAAMC,GAAP,OAAmBR,EAAWO,EAAMvL,IAA1F,UACE,cAAC,cAAD,CAAaqJ,UAAWoC,EAAxB,SACG,YAAqC,IAAlCnC,EAAiC,EAAjCA,YACIC,GAD6B,EAArBC,WAAqB,EAAVC,KACbH,EAAY1E,KAAI,SAAA8E,GAC1B,OACI,cAAC,YAAD,CAEIW,OAAO,OACPhB,UAAWK,EACXY,KAAM,OACNC,aAAc,WACZpB,EAAW,8BAAMO,EAAIU,WAAWjE,SAElCqE,aAAc,WACZrB,EAAW,KAEbsB,MAAO,CACLC,QAAS,CACPL,OAAQ,OACRM,YAAa,GACbC,QAAS,QAEXC,MAAO,CACLP,KAAM,UACND,OAAQ,UACRM,YAAa,EAAI5K,EACjB6K,QAAS,UApBRlB,EAAIoB,YAyBnB,OAAO,mCACJvB,OAKP,cAAC,EAAD,CAAaJ,WAAYA,EAAYC,kBAAmBA,UA+BnDsC,kBAAKX,IC3Eb,SAASY,GAAO/L,GACrB,MAAO,CAACC,KAAMZ,EAAMW,W,ICRiBgM,GCGjCC,G,oLACkBC,EAAWC,EAAWC,GAC1C,OAAqC,KAA7BF,EAAU9L,iB,+BAIlB,OACE,cAAC,GAAD,eAAWoH,KAAK6E,Y,GAPJC,aAiDHC,gBArCS,SAAA3M,GAAS,IAAD,EACOA,EAAMU,UAC3C,MAAO,CACLH,KAH4B,EACvBA,KAGLD,OAJ4B,EAClBA,OAIVE,eAL4B,EACXA,eAKjB0D,kBAAmBlE,EAAM8G,WAAW5C,kBACpC0I,aAAc5M,EAAM8G,WAAWC,GAC/B8F,YAAa7M,EAAMa,UAAUF,GAC7BE,UAAWb,EAAMa,UAAUD,GAC3B+G,mBAAqB3H,EAAM8G,WAAWnG,OAIf,SAACyD,GAC1B,MAAO,CACL0I,UAAU,SAACxM,GACT8D,EF/BC,SAAmB9D,GACxB,MAAO,CAACD,KAAMd,EAAYa,QAAQE,GE8BrBwM,CAAUxM,KAErByM,gBAAgB,SAAClI,GACfT,EF/BC,SAAyBS,GAC9B,MAAO,CAACxE,KAAMb,EAAsBY,QAAQyE,GE8B/BkI,CAAgBlI,KAE3B8E,WAPK,SAOMvJ,GACTgE,EF5BC,SAAoBhE,GACzB,MAAO,CAACC,KAAMX,EAAaU,WE2BduJ,CAAWvJ,KAEtBoL,WAVK,SAUMO,EAAMvL,GAAgB,IACxBD,EAAoBwL,EAApBxL,KAAKyM,EAAejB,EAAfiB,YACZ5I,EAAS+H,GAAO,CAAC7L,OAAO0M,EAAYzM,OAAKC,eAAiBD,EAAO,EAAI,IAAMC,MAE7EiL,iBAdK,SAcYvB,EAAIF,EAAWC,EAAKjF,EAAUzE,GAC7C,IAAMD,EAAS0J,EAAWiD,OAAOhD,EAAKiD,SAAShD,IAC/C9F,ERsCC,SAA8BY,GACjC,8CAAO,WAAyCZ,EAAUC,GAAnD,mBAAAC,EAAA,6DACHF,EAAS,CAAC/D,KAAM,8BAA+BD,SAAQ,IACjD+M,EAFH,0FAE4FnI,EAF5F,kBAGoBiB,IAAMC,IAAIiH,GAH9B,OAGGtN,EAHH,OAIGuN,EAASvN,EAASsG,KAAKf,KAAI,SAAA6D,GAC7B,IAAMrD,EAAWqD,EAAO3D,WAAW+H,QAAO,SAACC,EAAIC,GAAL,OAAiBA,EAAQ1G,QAAUyG,IAAI,GACjF,MAAO,CAAC3G,KAAKsC,EAAOuE,WAAW3I,GAAGoE,EAAOwE,eAAe7H,WAAWA,EAAWN,WAAW2D,EAAO3D,WAAWF,KAAK,SAAAqB,GAAc,MAAO,CAAC5B,GAAI4B,EAAUC,YAAYC,KAAMF,EAAUG,SAAUnB,MAAOgB,EAAUI,gBAE/MzC,EAAS,CAAC/D,KAAM,yBAAyBD,QAAQ,CAAC4E,YAAUnF,SAASuN,KACrEhJ,EAAS,CAAC/D,KAAM,8BAA+BD,SAAQ,IATpD,2CAAP,wDQvCWsN,CAAqB1I,IAC9BZ,EAAS+H,GAAO,CAAC7L,SAAOC,KAAKA,EAAK,EAAEA,EAAK,EAAEC,eAAe0J,EAAIrF,UAKrD8H,CAA4CN,I,kDC5C5CsB,GARG,WACd,OACI,cAACC,GAAA,EAAD,CAAYC,QAAQ,QAAQC,MAAM,gBAAgBC,MAAM,SAAxD,8CAC+B,IAAIC,MAAOC,cAD1C,QCCFC,G,uKACK,IAAD,EACoBtG,KAAK6E,MAAxBhM,EADD,EACCA,QAEP,OAHM,EACSX,UAGJ,UAIP,eAACqO,GAAA,EAAD,CAAWC,GAAI,EAAGxC,OAAQ,OAAQC,MAAO,OAAzC,UACI,cAACwC,GAAA,EAAD,UACI,cAACT,GAAA,EAAD,CAAYC,QAAQ,KAApB,sBAEJ,cAACQ,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,sBAEJ,eAACD,GAAA,EAAD,CAAKD,GAAI,EAAGxC,OAAQ,OAAQC,MAAO,OAAnC,UACI,cAAC0C,GAAD,IACA,cAAC,KAAD,UAAe9N,OAEnB,cAAC4N,GAAA,EAAD,CAAKzC,OAAQ,OAAQwC,GAAI,EAAzB,SACI,eAACR,GAAA,EAAD,CAAYC,QAAQ,UAAUW,cAAY,EAA1C,0BACiB,mBAAGC,KAAK,+CAAR,oBACb,uBAFJ,iBAGkB,mBAAGA,KAAK,yFAAR,iBAHlB,OAKI,mBAAGA,KAAK,kDAAR,2BAGR,cAACJ,GAAA,EAAD,CAAKzC,OAAQ,OAAb,SACI,cAAC,GAAD,a,GA9BG8C,iBA8CJ/B,gBATS,SAAA3M,GACtB,MAAO,CACLS,QAAQT,EAAMU,UAAUD,QACxBX,UAAUE,EAAM8G,WAAWhH,WAAaE,EAAM8G,WAAW5C,qBAM9CyI,CAAyBuB,I,6BC/BzBS,GAjBDC,aAAe,CACzBC,QAAS,CACLC,QAAS,CACLC,KAAM,WAEVC,UAAW,CACPD,KAAM,WAEVE,MAAO,CACHF,KAAMG,KAAIC,MAEdC,WAAY,CACRlE,QAAS,W,UCLfmE,GLNGC,YACLnI,EACAiF,GACAmD,YAAgBC,MKIpBH,GAAMjL,UZ8DC,SAAP,uCY5DAqL,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUN,MAAOA,GAAjB,SACI,eAACO,GAAA,EAAD,CAAejB,MAAOA,GAAtB,UAEI,cAACkB,GAAA,EAAD,IACA,cAAC,GAAD,WAIVC,SAASC,eAAe,SV0GpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,iB","file":"static/js/main.6ca2e17e.chunk.js","sourcesContent":["export const LOAD_STATES='LOAD_STATES';\nexport const LOAD_COUNTIES='LOAD_COUNTIES';\nexport const LOAD_COVID='LOAD_COVID';\nexport const LOAD_US_COVID='LOAD_US_COVID';\nexport const SET_ZOOM='SET_ZOOM';\nexport const SET_CENTER='SET_CENTER';\nexport const SET_FOCUSED_STATE_ID='SET_FOCUSED_STATE_ID';\nexport const ZOOM='ZOOM';\nexport const SET_TOOLTIP='SET_TOOLTIP';\n","import produce from 'immer';\nimport {LOAD_STATES,LOAD_COUNTIES} from '../constants/action_constants';\nimport axios from \"axios\";\nlet initialState={\n  states:null,\n  counties:null,\n  isLoading:false\n};\n\nconst boundaries = (state=initialState, action) =>{\n  return produce( state, draft =>{\n    const {payload} = action;\n    switch (action.type) {\n      case LOAD_STATES:\n        draft.states=payload;\n        break;\n      case LOAD_COUNTIES:\n        draft.counties=payload;\n        break;\n      case 'SET_BOUNDARIES_LOADING':\n        draft.isLoading=payload;\n        break;\n      default:\n        return;\n    }\n  })\n}\nexport async function fetchBoundaries(dispatch, getState) {\n  dispatch({ type: 'SET_BOUNDARIES_LOADING', payload: true })\n  const states = await axios.get('states-10m.json')\n  dispatch({ type: LOAD_STATES, payload: states.data })\n  const counties = await axios.get('counties-10m.json')\n  dispatch({ type: LOAD_COUNTIES, payload: counties.data })\n  dispatch({ type: 'SET_BOUNDARIES_LOADING', payload: false })\n}\n\nexport default boundaries;\n","import produce from 'immer';\nimport {SET_CENTER,SET_ZOOM,SET_TOOLTIP,SET_FOCUSED_STATE_ID,ZOOM} from '../constants/action_constants';\nlet initialState={\n  center:[0,0],\n  zoom:1,\n  focusedStateId:0,\n  // center:[-83.43523233606125, 32.63933616159129],\n  // zoom:4,\n  // focusedStateId:13,\n  tooltip:'',\n};\n\nconst mapParams = (state=initialState, action) =>{\n  return produce( state, draft =>{\n    const {payload} = action;\n    switch (action.type) {\n      case SET_CENTER:\n        draft.center=payload;\n        break;\n      case SET_ZOOM:\n        draft.zoom=payload;\n        break;\n      case SET_FOCUSED_STATE_ID:\n        draft.focusedStateId = payload;\n        break;\n      case SET_TOOLTIP:\n        draft.tooltip = payload;\n        break;\n      case ZOOM:\n        return {...payload};\n      default:\n        return;\n    }\n  })\n}\n\nexport default mapParams;\n","import produce from 'immer';\nimport { LOAD_COVID, LOAD_US_COVID} from '../constants/action_constants';\nimport { csvParse } from 'd3-dsv';\nimport axios from 'axios';\n\nlet initialState={\n  us:[],\n  ma:[],\n  isLoading:false\n};\n\nconst covidData = (state=initialState, action) =>{\n  return produce( state, draft =>{\n    const {payload} = action;\n    switch (action.type) {\n      case LOAD_COVID:\n        draft.ma=payload;\n        break;\n      case LOAD_US_COVID:\n        draft.us=payload;\n        break;\n      case 'SET_COVID_LOADING':\n        draft.isLoading=payload;\n        break;\n      default:\n        return;\n    }\n  })\n}\n\nexport async function fetchCovidData(dispatch, getState) {\n  dispatch({type: 'SET_COVID_LOADING', payload:true});\n  const maCovid = await axios.get('covid.csv')\n  const ma = csvParse(maCovid.data);\n  dispatch({ type: LOAD_COVID, payload: ma })\n  const usCovid = await axios.get('us-covid.csv');\n  const us = csvParse(usCovid.data);\n  dispatch({ type: LOAD_US_COVID, payload: us });\n  dispatch({type: 'SET_COVID_LOADING', payload:false});\n}\n\nexport default covidData;\n","import AL from '../data/AL-counties.json';\nimport AK from '../data/AK-counties.json';\nimport AZ from '../data/AZ-counties.json';\nimport AR from '../data/AR-counties.json';\nimport CA from '../data/CA-counties.json';\nimport CO from '../data/CO-counties.json';\nimport CT from '../data/CT-counties.json';\nimport DE from '../data/DE-counties.json';\nimport DC from '../data/DC-counties.json';\nimport FL from '../data/FL-counties.json';\nimport GA from '../data/GA-counties.json';\nimport HI from '../data/HI-counties.json';\nimport ID from '../data/ID-counties.json';\nimport IL from '../data/IL-counties.json';\nimport IN from '../data/IN-counties.json';\nimport IA from '../data/IA-counties.json';\nimport KS from '../data/KS-counties.json';\nimport KY from '../data/KY-counties.json';\nimport LA from '../data/LA-counties.json';\nimport ME from '../data/ME-counties.json';\nimport MD from '../data/MD-counties.json';\nimport MA from '../data/MA-counties.json';\nimport MI from '../data/MI-counties.json';\nimport MN from '../data/MN-counties.json';\nimport MS from '../data/MS-counties.json';\nimport MO from '../data/MO-counties.json';\nimport MT from '../data/MT-counties.json';\nimport NE from '../data/NE-counties.json';\nimport NV from '../data/NV-counties.json';\nimport NH from '../data/NH-counties.json';\nimport NJ from '../data/NJ-counties.json';\nimport NM from '../data/NM-counties.json';\nimport NY from '../data/NY-counties.json';\nimport NC from '../data/NC-counties.json';\nimport ND from '../data/ND-counties.json';\nimport OH from '../data/OH-counties.json';\nimport OK from '../data/OK-counties.json';\nimport OR from '../data/OR-counties.json';\nimport PA from '../data/PA-counties.json';\nimport RI from '../data/RI-counties.json';\nimport SC from '../data/SC-counties.json';\nimport SD from '../data/SD-counties.json';\nimport TN from '../data/TN-counties.json';\nimport TX from '../data/TX-counties.json';\nimport UT from '../data/UT-counties.json';\nimport VT from '../data/VT-counties.json';\nimport VA from '../data/VA-counties.json';\nimport WA from '../data/WA-counties.json';\nimport WV from '../data/WV-counties.json';\nimport WI from '../data/WI-counties.json';\nimport WY from '../data/WY-counties.json';\n\n\nconst countyResults= {AL, AK, AZ, AR, CA, CO, CT, DE, DC, FL, GA, HI, ID, IL, IN, IA, KS, KY, LA, ME, MD, MA, MI, MN, MS, MO, MT, NE, NV, NH, NJ, NM, NY, NC, ND, OH, OK, OR, PA, RI, SC, SD, TN, TX, UT, VT, VA, WA, WV, WI, WY};\nexport default countyResults;\n","import produce from 'immer';\nimport axios from 'axios';\nimport xml2js from 'xml2js';\nimport allStates from '../data/allstates.json';\nimport countyLoader from '../utils/countyLoader';\n\nlet initialState={\n    us:[],\n    isLoadingCounties:false,\n    isLoading:false,\n};\n\nconst votingData = (state=initialState, action) =>{\n    return produce( state, draft =>{\n        const {payload} = action;\n        switch (action.type) {\n            case 'SET_GA_DATA':\n                draft.ga=payload;\n                break;\n            case 'SET_STATE_LEVEL_RESULTS':\n                let index = draft.us.findIndex( s => s.state === payload.state);\n                if (index >= 0){\n                    draft.us[index] = payload;\n                }else{\n                    draft.us.push(payload);\n                }\n                break;\n            case 'SET_COUNTY_VOTING_DATA':\n                let holder = draft.us.find( s => s.state === payload.stateAbbr);\n                if(holder){\n                    holder.counties = payload.counties;\n                }\n                break;\n            case 'SET_VOTING_LOADING':\n                draft.isLoading=payload;\n                break;\n            case 'SET_COUNTIES_VOTING_LOADING':\n                draft.isLoadingCounties=payload;\n                break;\n            default:\n                return;\n        }\n    })\n}\n\nexport async function applyMissingCounties(dispatch,getState){\n    dispatch({type: 'SET_COUNTIES_VOTING_LOADING', payload:true});\n    const key={\n        AK:{biden:'7073',trump:'6638'},\n        ME:{biden:'30791',trump:'29633'},\n        NH:{biden:'49452',trump:'49453'},\n        VT:{biden:'53668',trump:'53669'},\n        MA:{biden:'35087',trump:'35088'},\n        CT:{biden:'21813',trump:'21816'},\n        RI:{biden:'46718',trump:'46719'},\n    };\n    const newEngland=[countyLoader.ME,countyLoader.NH,countyLoader.VT,countyLoader.MA,countyLoader.CT,countyLoader.RI];\n    newEngland.forEach( s =>{\n        const id = s.races[0].stateFips;\n        const stateAbbr= allStates.find(s => s.val === id).id;\n        let counties=[]\n        s.races.map(({countyFips,candidates})=>{\n            const biden= candidates.find(({candidateID}) => candidateID === key[stateAbbr].biden);\n            const trump = candidates.find(({candidateID}) => candidateID === key[stateAbbr].trump);\n            const cs=[{id:1036,votes:biden.vote},{id:8639,votes:trump.vote}];\n            counties.push({id: countyFips, totalVotes:biden.vote+trump.vote,candidates:cs});\n        });\n        dispatch({type: 'SET_COUNTY_VOTING_DATA',payload:{stateAbbr,counties:counties}});\n    });\n    const filtered=allStates.filter(n => !['ME','VT','NH','MA','CT','RI'].includes(n.id))\n    filtered.forEach( st =>{\n        dispatch({type: 'SET_COUNTY_VOTING_DATA',payload:{stateAbbr:st.id,counties:countyLoader[st.id]}});\n    });\n    dispatch({type: 'SET_COUNTIES_VOTING_LOADING', payload:false});\n}\nexport async function fetchNationalVotingData(dispatch,getState){\n    dispatch({type: 'SET_VOTING_LOADING', payload:true});\n    const nationalResults = await axios.get('https://politics-elex-results.data.api.cnn.io/results/view/2020-national-races-PG.json');\n    nationalResults.data.forEach( stateResult =>{\n        const result = { id: stateResult.stateFipsCode,state:stateResult.stateAbbreviation,totalVotes:stateResult.totalVote,candidates:stateResult.candidates.map( candidate => {return {id: candidate.candidateId,name: candidate.fullName, votes: candidate.voteNum}})}\n        let counties=[];\n\n        dispatch({type: 'SET_STATE_LEVEL_RESULTS',payload: result});\n    });\n    dispatch(applyMissingCounties);\n    dispatch({type: 'SET_VOTING_LOADING', payload:false});\n}\n\nexport function fetchStateVotingData(stateAbbr){\n    return async function fetchStateVotingDataThunk(dispatch, getState) {\n        dispatch({type: 'SET_COUNTIES_VOTING_LOADING', payload:true});\n        const url = `https://politics-elex-results.data.api.cnn.io/results/view/2020-county-races-PG-${stateAbbr}.json`\n        const counties = await axios.get(url);\n        const results= counties.data.map(county => {\n            const totalVotes=county.candidates.reduce((acc,current) => current.voteNum + acc,0);\n            return {name:county.countyName,id:county.countyFipsCode,totalVotes:totalVotes,candidates:county.candidates.map( candidate => {return {id: candidate.candidateId,name: candidate.fullName, votes: candidate.voteNum}})}\n        })\n        dispatch({type: 'SET_COUNTY_VOTING_DATA',payload:{stateAbbr,counties:results}});\n        dispatch({type: 'SET_COUNTIES_VOTING_LOADING', payload:false});\n    }\n}\nexport async function fetchAllVotingData(dispatch,getState){\n    dispatch({type: 'SET_COUNTIES_VOTING_LOADING', payload:true});\n    const stuff=['ME','NH','VT','MA','CT','RI'];\n    const filtered=allStates.filter(n => !stuff.includes(n.id))\n    for(const st of filtered){\n        const url = `https://politics-elex-results.data.api.cnn.io/results/view/2020-county-races-PG-${st.id}.json`\n        const counties = await axios.get(url);\n        const results= counties.data.map(county => {\n            const totalVotes=county.candidates.reduce((acc,current) => current.voteNum + acc,0);\n            return {name:county.countyName,id:county.countyFipsCode,totalVotes:totalVotes,candidates:county.candidates.map( candidate => {return {id: candidate.candidateId,name: candidate.fullName, votes: candidate.voteNum}})}\n        })\n        dispatch({type: 'SET_COUNTY_VOTING_DATA',payload:{stateAbbr:st.id,counties:results}});\n    }\n    dispatch({type: 'SET_COUNTIES_VOTING_LOADING', payload:false});\n}\n\nexport async function fetchGAVotingData(dispatch, getState) {\n    dispatch({type: 'SET_VOTING_LOADING', payload:true});\n    const gaVoting = await axios.get('ga-detail.xml');\n    let parser = new xml2js.Parser()\n    let result = await parser.parseStringPromise(gaVoting.data);\n    const votes = result.ElectionResult.Contest.find((contest)=> contest.$.key==='5000').Choice;\n    const trump = votes.find( c => c.$.key === '1');\n    const biden = votes.find( c => c.$.key === '2');\n    const jorgensen = votes.find( c => c.$.key === '3');\n    const reducer = (accumulator, currentValue, candidate) => {\n        currentValue.County.forEach(county => {\n            const name = county.$.name;\n            let match = accumulator.find( c => c.name === name);\n            if(match === undefined){\n                let tmp={name};\n                tmp[candidate] = +county.$.votes;\n                accumulator.push(tmp);\n            }else{\n                if (match[candidate]) {\n                    match[candidate] += +county.$.votes;\n                }else{\n                    match[candidate] = +county.$.votes;\n                }\n            }\n        })\n        return accumulator;\n    };\n    let counties = trump.VoteType.reduce(\n        (accumulator, currentValue) => reducer(accumulator,currentValue,'trump')\n        ,[]\n        );\n    counties = biden.VoteType.reduce(\n        (accumulator, currentValue) => reducer(accumulator,currentValue,'biden')\n        ,counties\n    );\n    counties = jorgensen.VoteType.reduce(\n        (accumulator, currentValue) =>  reducer(accumulator,currentValue,'jorgensen')\n        ,counties\n    );\n    let res={\n        total: +trump.$.totalVotes + +biden.$.totalVotes + +jorgensen.$.totalVotes,\n        trumpTotal: +trump.$.totalVotes,\n        bidenTotal: +biden.$.totalVotes,\n        jorgensenTotal: +jorgensen.$.totalVotes,\n        counties\n    }\n    dispatch({type: 'SET_GA_DATA',payload:res});\n    dispatch({type: 'SET_VOTING_LOADING', payload:false});\n}\n\nexport default votingData;","import boundaries from './boundaries';\nimport mapParams from './mapParams';\nimport covidData from './covidData';\nimport {combineReducers} from 'redux';\nimport votingData from './votingData';\n\nconst rootReducer = combineReducers({\n  boundaries,\n  mapParams,\n  covidData,\n  votingData,\n})\nexport default rootReducer;\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\nimport * as d3 from 'd3';\nimport { scaleLinear,scaleLog,scaleRadial } from 'd3-scale';\n\nexport default class CNNVotingDataContext {\n    constructor(nationalVotingData) {\n        this._nationalVotingData = nationalVotingData;\n        let sorted=[...nationalVotingData].sort( (a,b) => a.totalVotes - b.totalVotes);\n        this.voteOpScale = scaleLinear().domain([sorted[0].totalVotes,sorted[sorted.length-2].totalVotes]).range([0,1]);\n        this.tmpOpScale = scaleLog().domain([4000,4000000]).range([0,1]);\n        this._currentState={};\n        this._bidenResult ={};\n        this._trumpResult={}\n        this._total={};\n        this._voteRatio={};\n    }\n    selectCurrentStateById(id){\n        this._currentState=this._nationalVotingData.find( s => s.id === id);\n        if(!this._currentState){\n            return undefined;\n        }\n        this._bidenResult = this._currentState? this._currentState.candidates.find( c => c.id === 1036  ): {};\n        this._trumpResult = this._currentState? this._currentState.candidates.find( c => c.id !== 1036  ): {};\n        this._total =this._bidenResult.votes+this._trumpResult.votes\n        this._voteRatio = this._bidenResult.id ? this._bidenResult.votes/this._total :0;\n        if (this._currentState && this._currentState.counties) {\n            let sortedCounties = [...this._currentState.counties].sort((a, b) => a.totalVotes - b.totalVotes);\n            this.voteCountyOpScale = scaleLinear().domain([sortedCounties[0].totalVotes, sortedCounties[sortedCounties.length - 1].totalVotes]).range([0, 1]);\n        }\n        return this._currentState;\n    }\n    selectCurrentCountyById(id){\n        if(!this._currentState.counties){\n            return undefined;\n        }\n        this._currentCounty=this._currentState.counties.find( county => county.id === id);\n        this._bidenCountyResult = this._currentCounty ?this._currentCounty.candidates.find( c => c.id === 1036  ): {}\n        this._trumpCountyResult = this._currentCounty? this._currentCounty.candidates.find( c => c.id !== 1036  ): {};\n        this._countyTotal =this._bidenCountyResult.votes+this._trumpCountyResult.votes\n        this._countyVoteRatio = this._bidenCountyResult.id ? this._bidenCountyResult.votes/this._countyTotal :0;\n        return this._currentCounty;\n    }\n    getTooltip(name){\n        return this._currentState?(<div>\n            <div>{name}</div>\n            <div>Total votes: {this._currentState.totalVotes}</div>\n            <div>Biden: {this._bidenResult.votes}</div>\n            <div>Trump: {this._trumpResult.votes}</div>\n        </div>):null;\n    }\n    getCountyTooltip(name){\n        return this._currentCounty?(\n            <>\n                <div>County: {name}</div>\n                <div>Total Votes: {this._currentCounty.totalVotes.toLocaleString()}</div>\n                <div>Joe Biden: {this._bidenCountyResult.votes.toLocaleString()}</div>\n                <div>Donald Trump: {this._trumpCountyResult.votes.toLocaleString()}</div>\n            </>\n        ):null;\n    }\n    getCountyColor(){\n        const countyColor= this._currentCounty ? d3.color(this._countyVoteRatio>=.5? '#00F':'#F00').copy({opacity:this.tmpOpScale(this._countyTotal)}):\"#DDD\";\n        return countyColor;\n    }\n    getStateColor(id,focusedStateId){\n        const stateColor=this._currentState && focusedStateId !==id ? d3.color(this._voteRatio>=.5? '#00F':'#F00').copy({opacity:this.voteOpScale(this._total)}) :\"#DDD\";\n        return stateColor;\n    }\n}","import {Geographies, Geography} from \"react-simple-maps\";\nimport React from \"react\";\nimport counties from '../data/counties-10m.json'\n\nconst AllCounties = ({setTooltip,votingDataContext}) =>{\n    return(\n        <Geographies geography={counties}>\n            {({ geographies,projection,path }) =>{\n                const usMap=geographies.map(geo => {\n                    const stateId=geo.id.substr(0,2);\n                    let stat = votingDataContext.selectCurrentStateById(stateId);\n                    let county = stat ? votingDataContext.selectCurrentCountyById(geo.id):undefined;\n                    const countyColor = county ? votingDataContext.getCountyColor(geo.id):'#FFF';\n                    const countyTooltip = county ? votingDataContext.getCountyTooltip(geo.properties.name):<div>{geo.properties.name + ' '+geo.id }</div>;\n                    return (\n                        <Geography\n                            key={geo.rsmKey}\n                            stroke=\"#000\"\n                            geography={geo}\n                            fill={countyColor}\n                            onMouseEnter={() => {\n                                setTooltip(countyTooltip);\n                            }}\n                            onMouseLeave={() => {\n                                setTooltip('');\n                            }}\n                            style={{\n                                default: {\n                                    stroke: \"#000\",\n                                    strokeWidth: 0.01,\n                                    outline: \"none\",\n                                },\n                                hover: {\n                                    fill: \"#CFD8DC\",\n                                    stroke: \"#607D8B\",\n                                    strokeWidth: .25,\n                                    outline: \"none\",\n                                },\n                            }}\n                        />)\n                });\n                return <>\n                    {usMap}\n                </>\n            }\n            }\n        </Geographies>\n    );\n}\n\nexport default AllCounties;","import React,{memo} from 'react';\nimport {ComposableMap, Geographies, Geography, Marker, ZoomableGroup} from 'react-simple-maps';\nimport Counties from './Counties';\nimport statesBoundaries from '../data/states-10m.json';\nimport VotingLayer from './VotingLayer';\nimport Labels from './Labels';\nimport counties from '../data/counties-10m.json';\nimport CNNVotingDataContext from './CNNVotingDataContext';\nimport VotingCountiesLayer from './VotingCountiesLayer';\nimport Cities from \"./Cities\";\nimport cities from \"../data/cities.json\";\nimport AllCounties from \"./AllCounties\";\n\nconst USMap = ({center,zoom,handleStateClick,handleMove,isLoadingCounties,nationalVotingData,focusedStateId,setTooltip}) =>{\n    const votingDataContext= new CNNVotingDataContext(nationalVotingData);\n\n  return (\n      <ComposableMap  data-tip='' projection=\"geoAlbersUsa\"  style={{border:'1px black solid',height:'100%', width:'100%'}}>\n        <ZoomableGroup center={center} zoom={zoom} onMoveEnd={(event,zoomEvent)=>handleMove(event,focusedStateId)}>\n          <Geographies geography={statesBoundaries}>\n            {({ geographies,projection,path }) =>{\n              const usMap=geographies.map(geo => {\n                return (\n                    <Geography\n                        key={geo.rsmKey}\n                        stroke=\"#000\"\n                        geography={geo}\n                        fill={\"#FFF\"}\n                        onMouseEnter={() => {\n                          setTooltip(<div>{geo.properties.name}</div>);\n                        }}\n                        onMouseLeave={() => {\n                          setTooltip('');\n                        }}\n                        style={{\n                          default: {\n                            stroke: \"#000\",\n                            strokeWidth: 0.2,\n                            outline: \"none\",\n                          },\n                          hover: {\n                            fill: \"#CFD8DC\",\n                            stroke: \"#607D8B\",\n                            strokeWidth: 1 / zoom,\n                            outline: \"none\",\n                          },\n                        }}\n                    />)\n              });\n              return <>\n                {usMap}\n              </>\n            }\n          }\n          </Geographies>\n          <AllCounties setTooltip={setTooltip} votingDataContext={votingDataContext}/>\n          {/*<VotingLayer votingDataContext={votingDataContext} focusedStateId={focusedStateId} setTooltip={setTooltip} handleStateClick={handleStateClick} zoom={zoom}/>*/}\n          {/*<Labels />*/}\n\n          {/*{ +focusedStateId > 0 && !isLoadingCounties ?*/}\n          {/*    <Geographies geography={counties}>*/}\n          {/*        {*/}\n          {/*            ({geographies, projection, path}) => {*/}\n          {/*                votingDataContext.selectCurrentStateById(focusedStateId);*/}\n          {/*                const focused = geographies.filter(geo => {*/}\n          {/*                    return geo.id.substring(0, 2) === focusedStateId*/}\n          {/*                });*/}\n          {/*                const countyLayer = <Counties countyBoundary={focused} setTooltip={setTooltip}/>;*/}\n          {/*                const votingCountyLayer=<VotingCountiesLayer countyBoundary={focused} votingDataContext={votingDataContext} setTooltip={setTooltip}/>;*/}\n          {/*                return (*/}\n          {/*                    <>*/}\n          {/*                        {countyLayer}*/}\n          {/*                        {votingCountyLayer}*/}\n          {/*                    </>*/}\n          {/*                );*/}\n          {/*            }*/}\n          {/*        }*/}\n          {/*    </Geographies>*/}\n          {/*  : null*/}\n          {/*}*/}\n          {/*<Cities zoom={zoom} />*/}\n        </ZoomableGroup>\n      </ComposableMap>\n  );\n}\n\nexport default memo(USMap);\n","import {SET_ZOOM,SET_TOOLTIP,SET_CENTER,SET_FOCUSED_STATE_ID,ZOOM} from '../constants/action_constants';\n\nexport function setZoom(zoom){\n  return {type: SET_ZOOM, payload:zoom}\n}\nexport function setCenter(center){\n  return {type: SET_CENTER, payload:center}\n}\nexport function setFocusedState(id){\n  return {type: SET_FOCUSED_STATE_ID, payload:id}\n}\nexport function doZoom(payload){\n  return {type: ZOOM, payload}\n}\nexport function setTooltip(payload){\n  return {type: SET_TOOLTIP, payload}\n}\n","import {applyMiddleware,createStore} from 'redux';\nimport rootReducer from './reducers/store';\nimport thunkMiddleware from 'redux-thunk';\n\nexport default function configureStore(preloadedState){\n\n  return createStore(\n    rootReducer,\n    preloadedState,\n    applyMiddleware(thunkMiddleware)\n  );\n}\n","import React,{Component} from \"react\";\nimport USMap from '../component/USMap';\nimport {connect} from 'react-redux';\nimport {setCenter,setZoom,setFocusedState,doZoom,setTooltip} from '../actions/actions';\nimport {fetchStateVotingData} from \"../reducers/votingData\";\n\n\nclass Tmp extends Component{\n  shouldComponentUpdate(nextProps, nextState, nextContext) {\n    return +nextProps.focusedStateId !== 0;\n  }\n\n  render(){\n    return(\n      <USMap {...this.props} />\n    )\n  }\n}\n\nconst mapStateToProps = state =>{\n  const {zoom,center,focusedStateId} = state.mapParams;\n  return {\n    zoom,\n    center,\n    focusedStateId,\n    isLoadingCounties: state.votingData.isLoadingCounties,\n    gaVotingData: state.votingData.ga,\n    usCovidData: state.covidData.us,\n    covidData: state.covidData.ma,\n    nationalVotingData : state.votingData.us,\n  };\n}\n\nconst mapDispatchToProps = (dispatch) =>{\n  return {\n    setCenter:(center)=>{\n      dispatch(setCenter(center));\n    },\n    setFocusedState:(id)=>{\n      dispatch(setFocusedState(id));\n    },\n    setTooltip(payload){\n      dispatch(setTooltip(payload));\n    },\n    handleMove(event,focusedStateId){\n      const {zoom,coordinates} = event;\n      dispatch(doZoom({center:coordinates,zoom,focusedStateId : zoom < 4 ? '0' : focusedStateId}));\n    },\n    handleStateClick(geo,projection,path,stateAbbr,zoom){\n      const center = projection.invert(path.centroid(geo));\n      dispatch(fetchStateVotingData(stateAbbr));\n      dispatch(doZoom({center,zoom:zoom>4?zoom:4,focusedStateId:geo.id}));\n    }\n  };\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Tmp);\n","import {Link, Typography} from '@material-ui/core';\nimport React from 'react';\n\n\nconst Copyright = () => {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {`Copyright © Harry Phan ${new Date().getFullYear()} `}\n        </Typography>\n    );\n}\n\nexport default Copyright;","import React,{PureComponent} from 'react';\nimport USMapContainer from './USMapContainer';\nimport {connect} from 'react-redux';\nimport ReactTooltip from 'react-tooltip';\nimport {Box, Button, Container, Link, Typography} from \"@material-ui/core\";\nimport Copyright from \"../component/Copyright\";\n\nclass Main extends PureComponent{\n  render(){\n    const {tooltip,isLoading}=this.props;\n\n    if(isLoading){\n        return 'Loading';\n    }\n\n    return(\n        <Container lg={3} height={'90vh'} width={'100%'}>\n            <Box>\n                <Typography variant=\"h3\">US Map</Typography>\n            </Box>\n            <Box>\n                <Button>Views</Button>\n            </Box>\n            <Box lg={3} height={'70vh'} width={'100%'}>\n                <USMapContainer />\n                <ReactTooltip>{tooltip}</ReactTooltip>\n            </Box>\n            <Box height={'auto'} lg={3}>\n                <Typography variant=\"caption\" gutterBottom>\n                    Source code: <a href=\"https://github.com/harryphan/us-district-map\">Github</a>\n                    <br/>\n                    Data sources: <a href=\"https://www.cnn.com/election/2020/results/president?iid=politics_election_national_map\">CNN</a>\n                    &nbsp;\n                    <a href=\"https://www.politico.com/2020-election/results/\">Politico</a>\n                </Typography>\n            </Box>\n            <Box height={'auto'}>\n                <Copyright />\n            </Box>\n        </Container>\n    );\n  }\n}\n\nconst mapStateToProps = state =>{\n  return {\n    tooltip:state.mapParams.tooltip,\n    isLoading:state.votingData.isLoading || state.votingData.isLoadingCounties,\n  };\n}\n\n\n\nexport default connect(mapStateToProps)(Main);\n","import { red } from '@material-ui/core/colors';\nimport { createMuiTheme } from '@material-ui/core/styles';\n\n\n// A custom theme for this app\nconst theme = createMuiTheme({\n    palette: {\n        primary: {\n            main: '#556cd6',\n        },\n        secondary: {\n            main: '#19857b',\n        },\n        error: {\n            main: red.A400,\n        },\n        background: {\n            default: '#fff',\n        },\n    },\n});\n\nexport default theme;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport configureStore from './configureStore';\r\nimport { Provider } from 'react-redux';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport Main from './containers/Main';\r\nimport { fetchNationalVotingData} from \"./reducers/votingData\";\r\nimport { ThemeProvider } from '@material-ui/core/styles';\r\nimport theme from './theme';\r\nimport {CssBaseline} from \"@material-ui/core\";\r\n\r\nconst store = configureStore();\r\nstore.dispatch(fetchNationalVotingData);\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n        <ThemeProvider theme={theme}>\r\n            {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\r\n            <CssBaseline />\r\n            <Main />\r\n        </ThemeProvider>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}